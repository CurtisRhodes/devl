<!DOCTYPE html>
<html lang="en">
<head>
    <title>OggleBooble</title>
    <link rel='shortcut icon' href='img/favicon.png' type='image/x-icon' />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=.07">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" crossorigin="anonymous"></script>
    <script src="https://common.ogglefiles.com/js/Common.js"></script>
    <script src="js/Slideshow.js"></script>

    <link href="https://common.ogglefiles.com/css/Common.css" rel="stylesheet" />
    <link href="css/Slideshow.css" rel="stylesheet" />
</head>
<body>
    <header id="oggleHeader" class="stickyHeader"></header>
    <div id="visableArea" class="threeColumnLayout">
        <div id="leftColumnArea" class="leftColumn">
            <div id="promoMessagesContainer" class="promoBox"></div>
        </div>
        <div class="middleColumn">
            <div id="divStatusMessage"></div>
            <img id="slideshowLoadingGif" class="loadingGif" title='loading gif' alt='' src="https://common.ogglefiles.com/img/loader.gif" />
            <div id='leftClickArea' class='hiddenClickArea' 
                 oncontextmenu='slideshowContextMenu()' 
                 onclick='slideClick("prev")'></div>
            <div id='rightClickArea' class='hiddenClickArea' oncontextmenu='slideshowContextMenu()' onclick='slideClick("next")' ondblclick='runSlideShow("start")'></div>
            <img id='ssLeftwa' class='slideshowLeftWingArrow' src='/img/next_left_arrow.png' />
            <div class='centeringOuterShell'>
                <div class='centeringInnerShell'>
                    <div id='viewerImageContainer' class='flexContainer'>
                        <div class='slideshowNavgArrows'><img src='/img/leftArrowOpaque02.png' /></div>
                        <img id='viewerImage' class='slideshowImage' />
                        <div class='slideshowNavgArrows'><img src='/img/rightArrowOpaque02.png' /></div>
                    </div>
                </div>
            </div>
            <div id='slideShowInstructions' class='slideShowVail'></div>
            <div id='slideshowCtxMenuContainer' class='ogContextMenu' style='z-index: 35;' onmouseleave='$(this).fadeOut()'>
                <div id='slideshowContextMenuContent'></div>
            </div>
            <div id='copycatDiv' class='copycatMsg' onclick='copyCatClick()'>categorize></div>
            <div id='slideshowImageLabel' class='slideshowImageLabel displayHidden' onclick='slides()'></div>
        </div>
        <div id="rightColumnArea" class="rightColumn"></div>
    </div>
    <footer class="ogglefooter"></footer>

    <script>
        $(document).ready(function () {
            let folderId;
            let islargeLoad = false;
            let startLink = 0;
            let params = getParams();
            if (isNullorUndefined(params.folderId)) {
                if (isNullorUndefined(params.parentfolderId)) {
                    folderId = params.parentfolderId;
                    islargeLoad = true;
                }
                else {
                    alert("folder parameter not found");
                    window.location.href = "Index.html";
                }
            }
            else {
                folderId = params.folderId;
            }
            if (!isNullorUndefined(params.startLink)) {
                startLink = params.startLink;
            }

            displayHeader("slideshow");

            $('#headerMessage').html("");
            $('#topRowRightContainer').html("");
            $('#breadcrumbContainer').html("<div id='imageViewerHeaderTitle' class='imageViewerTitle'></div>");
            $('#badgesContainer').html("<img id='imgComment' class='slideshowHeaderButton' title='comment' onclick='showImageViewerCommentDialog()' src='/img/comment.png'/></div>");
            $('#hdrBtmRowSec3').html("");
            $("#divLoginArea").html("<div class='buttonSection'>"+
                "<div onclick='blowupImage()'><img class='popoutBox slideshowHeaderButton' title='open image in a new window' src='/img/expand02.png' /> </div>\n" +
                "<div onclick='runSlideShow(\"faster\");'>" +
                "<img id='fasterSlideshow' class='slideshowHeaderButton' title='faster' src='/img/speedDialFaster.png' /></div>\n" +
                "<div id='txtStartSlideShow' style='padding-top:4px' onclick='runSlideShow(\"start\");'>start slideshow</div>\n" +
                "<div onclick='runSlideShow(\"slower\");'><img id='slowerSlideShow' class='slideshowHeaderButton' title='slower' src='/img/speedDialSlower.png'/></div>\n" +
                "<div><img class='slideshowHeaderButton' onclick='closeViewer(\"click\") title='you may use the {esc} key' src='https://common.ogglefiles.com/img/close.png'></div>"
            );

            displayFooter("oggleGallery");

            startSlideShow(folderId, startLink, islargeLoad);

            window.addEventListener("resize", callResizeSlideshow);
            resizeSlideshow();
        });

        function callResizeSlideshow() {
            resizeSlideshow();
            //alert('callResizeSlideshow');
        }
        function resizeSlideshow() {
            $('#visableArea').css('height', $(window).height() - $('header').height());
            let visAreaH = $('#visableArea').height();
            $('#viewerImage').css("height", visAreaH);
            $('#imageContainer').css('max-height', $('#visableArea').height() - 52);
            $('footer').css('width', $(window).width());
            $("#singleImageOuterContainer").css("height", visAreaH);
        }
    </script>
</body>
</html>
