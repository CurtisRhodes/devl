<!DOCTYPE html>
<html lang="en">
<head>
    <title>OggleBooble</title>
    <link rel='shortcut icon' href='https://common.ogglefiles.com/img/redBallon.ico' type='image/x-icon' />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=.07">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" crossorigin="anonymous"></script>
    <script src="https://common.ogglefiles.com/js/Common.js"></script>
    <script src="js/OggleBooble.js"></script>
    <script src="js/Gallery.js"></script>
    <script src="js/Slideshow.js"></script>

    <link href="https://common.ogglefiles.com/css/Common.css" rel="stylesheet" />
    <link href="css/GalleryPage.css" rel="stylesheet" />
    <link href="css/Slideshow.css" rel="stylesheet" />
</head>
    <body>
        <header id="oggleHeader" class="stickyHeader"></header>
        <div id="visableArea" class="threeColumnLayout">
            <div id="leftColumnArea" class="leftColumn">
                <div id="promoMessagesContainer" class="promoBox"></div>
                <img id='folderCommentButton' class='folderCommentButton' title='folder comment' src='https://common.ogglefiles.com/img/comment.png' />
                <div id="folderCommentContainer"></div>
            </div>
            <div class="middleColumn">
                <div id="divStatusMessage"></div>
                <img id="galleryPageLoadingGif" style="height:11px;" alt='loading' src="https://common.ogglefiles.com/img/loader.gif" />
                <div id="galleryTopRow" class="aboveImageContainerDiv">
                    <div id='seoPageName' class="albumPageMetaTitle"></div>
                    <div id="aboveImageContainerMessageArea" class="flexboxMiddleSection"></div>
                    <div id="largeLoadButton" class='albumMsgLink'
                         title='slideshow includes all child folders'
                         onclick='launchLargeLoad();'>load all folders</div>
                    <div id="deepSlideshowButton" class='albumMsgLink'
                         title='album page with all child folder images'
                         onclick='launchDeepSlideShow();'>gallery slideshow</div>
                </div>
                <div id="imageContainer" class="galleryContainer"></div>
                <div id="singleImageOuterContainer" class="explodingImageContainer">
                    <div id="singleImageInnerContainer" class="explodingInnerContainer">
                        <div id="divShowSlideshow" class="slideshowButton" onclick="showSlideshow()">slideshow</div>
                        <img id='viewerImage' class='explodingViewerImage' />                       
                        <img id='viewerCloseButton' class='floatingCloseButton' 
                             src="https://common.ogglefiles.com/img/close.png" onclick="closeImageViewer()"  />
                    </div>
                </div>
                <div id="slideShowContainer" class="fullScreenViewer"></div>
                <div id="galleryBottomfileCount" class="countContainer"></div>
                <div id="trackbackContainer" class="trackbackLinkContainer">
                    <div>trackback links</div>
                    <div id="trackbackLinkArea" class="trackbackArea"></div>
                </div>
            </div>
            <div id="rightColumnArea" class="rightColumn"></div>
        </div>

        <footer class="ogglefooter"></footer>

        <script>
            $(document).ready(function () {
                let pageContext = "gallery";
                let pageName = "oggleIndex";
                let params = getParams();
                let islargeLoad = false;
                if (!isNullorUndefined(params.parentfolder)) {
                    //alert("params.parentfolder: " + params.parentfolder);
                    albumParamFolderId = params.parentfolder;
                    islargeLoad = true;
                }
                else {
                    if (isNullorUndefined(params.album)) {
                        window.location.href = "Index.html";
                    }
                    else {
                        albumParamFolderId = params.album;
                    }
                }

                displayHeader(pageName);
                displayFooter(pageContext);

                loadAlbumPage(albumParamFolderId, islargeLoad);

                window.addEventListener("resize", callResizeGalleryPage);
                resizeGalleryPage();
            });

            function callResizeGalleryPage() {
                resizeGalleryPage();
            }

            function resizeGalleryPage() {
                let visAreaHeight = $(window).height() - $('header').height();
                $('#visableArea').css('height', visAreaHeight);
                $('#imageContainer').css('max-height', visAreaHeight - 52);
                $('footer').css('width', $(window).width());
                $("#singleImageOuterContainer").css("height", visAreaHeight);
            }
        </script>
    </body>
</html>
