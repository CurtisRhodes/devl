<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8" />
    <title>Oggle Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.75">
    <link rel='shortcut icon' href='https://common.ogglefiles.com/img/OIP.png' type='image/x-icon' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://common.ogglefiles.com/js/Common.js"></script>
    <script src="js/OggleDashboard.js"></script>
    <script src="js/DirTree.js"></script>

    <link href="https://common.ogglefiles.com/css/Common.css" rel="stylesheet" />
    <link href="css/OggleDashboard.css" rel="stylesheet">
</head>
<body>
    <header class="stickyHeader"></header>
    <div id="visableArea" class="threeColumnLayout">
        <div class="leftColumn dashboardLeftColumn">
            <div class="vertMenu">
                <div onclick='showBuildDirTreeDialog()'>Build Dir Tree</div>
                <div onclick="showCreateNewFolderDialog()">Create New Folder</div>
                <div onclick='showSortTool()'>Sort Folder</div>
                <div onclick='showRepairDialog()'>Repair Links</div>
                <div onclick='updateFolderCounts()'>update folder counts</div>
                <div onclick='sqlSandbox()'>sql sandbox</div>
                <div onclick='showMoveManyTool(1)'>Move Many</div>
                <div onclick='showAddStepChildFolderDialog()'>Copy Many</div>
                <div onclick="showRenameFolderDialog()">Rename Folder</div>
            </div>
        </div>
        <div class="middleColumn">
            <img id='dashBoardLoadingGif' alt="spinner" title="loading" class='loadingGif' src='https://common.ogglefiles.com/img/loader.gif' />

            <div id='dashboardContainer' class='fullScreenContainer'>
                <div id="dashboardTopRow" class="dashboardTopContainer">
                    <div class="flexbox">
                        <div>
                            Active Folder<input id="txtCurrentActiveFolder" class="roundedInput" style="width:77%" readonly="readonly" />
                            <input id="txtActiveFolderId" class="roundedInput" style="width:44px" readonly="readonly" />
                        </div>
                    </div>
                    <div class="flexbox">
                        <div class='roundendButton' onclick='launchPage()'>Open Page</div>
                        <div class='roundendButton' onclick='showFiles()'>Show Files</div>
                        <div class='roundendButton' onclick='saveBlogEntry()'>Folder Details</div>
                    </div>
                </div>

                <div id="dashboardFileListContainer" class="dashboardFileList">
                    <div id="dashboardFileListHeader" class="dashboardFileListHeader">
                        <div id="dashboardFileListHeaderTitle">ffff</div>
                        <img height="31" title='you may use the {esc} key'
                             class="dashboardFileListHeaderCloseButton"
                             src='https://common.ogglefiles.com/img/close.png'
                             onclick="closeDashboardFileList()" />
                    </div>
                    <div id="dashboardFileList"></div>
                </div>

                <div id='addImageLinkDialog' class='fullScreenSection displayHidden'>
                    <div id='addLinkCrudArea' class='addLinkCrudArea'>
                        <div class='flexbox'>
                            <label>link  </label><input id='txtImageLink' tabindex='1' class='roundedInput' onblur='previewLinkImage()' />
                        </div>
                        <div class='flexbox'>
                            <label>path </label><input class='roundedInput txtLinkPath' readonly='readonly' />
                        </div>
                        <div class='roundendButton' tabindex='2' onclick='addImageLink()'>Insert</div>
                    </div>
                    <div id="outputArea" class="dataArea"></div>
                    <img id='imgLinkPreview' class='linkImage' alt="preview image " />
                </div>

                <div id='moveManySection' class='fullScreenSection displayHidden'>
                    <div id='moveManyHeader' class='workAreaHeader'>
                        <div class='workAreaHeaderArea'>
                            <div id='moveManyTitle' class='workAreaHeaderTitle'>Move Many</div>
                            <div class='workAreaHeaderDetailRow'>
                                <div class='moveManyHeaderLabel'>source</div><input id='txtMoveManySource' class='roundedInput' style='width:65%' readonly='readonly' /><br />" +
                                <div class='moveManyHeaderLabel'>destination</div>
                                <input id='txtMoveManyDestination' class='roundedInput' style='width:65%' readonly='readonly' />" +
                                <img class='dialogDirTreeButton' src='https://common.ogglefiles.com/img/caretDown.png' onclick='$("\#mmDirTreeContainer\").toggle()' />
                                <div class='floatRight'><input type='checkbox' id='mmCkSelectAll' onclick='mmSelectAll()'>  Select All</div>
                            </div>
                        </div>
                        <!--<div class='workAreaCloseButton'>
                <img style='height:25px' src='https://common.ogglefiles.com/img/close.png' onclick='showDefaultWorkArea()'>
            </div>-->
                    </div>
                    <div id='mmDirTreeContainer' class='floatingDirTreeContainer'></div>
                    <div id='moveManyImageArea' class='workAreaDisplayContainer'></div>
                    <div id='moveManyFooter' class='workareaFooter'>
                        <button id='moveManyButton' onclick='moveCheckedImages(" + mmSourceFolderId + ")'>Move</button>
                        <div id='moveManyCountContainer' class='floatRight'></div>" +
                    </div>
                </div>

                <div id='sortToolSection' class='fullScreenSection displayHidden'>
                    <div id='sortToolHeader' class='workAreaHeader'>
                        <div id='sortTableHeader' class='workAreaHeaderTitle'></div>
                        <div class='workAreaCloseButton'>
                            <img style='height:25px' src='https://common.ogglefiles.com/img/close.png' onclick='showDefaultWorkArea()'>
                        </div>
                    </div>
                    <div>
                        <div id='sortToolImageArea' class='workAreaDisplayContainer'></div>
                        <div id='sortToolFooter' class='workareaFooter'>
                            <button class="sortButton" onclick='updateSortOrder()'>ReSort</button>
                            <button class="sortButton" onclick='autoIncrimentSortOrder()'>AutoIncriment</button>
                            <button class="sortButton" onclick='saveSortOrder()'>Save</button>
                        </div>
                    </div>
                </div>

                <div id='sqlSandboxSection' class='fullScreenSection displayHidden flexbox'>
                    <div class="flexContainer">
                        <div class="vertMenu inline">
                            <div onclick='changeFolderType()'>change folder type</div>
                            <div onclick="moveFolder()">Create New Folder</div>
                            <div onclick='showSortTool()'>Sort Folder</div>
                            <div onclick='showRepairDialog()'>Repair Links</div>
                            <div onclick='changeFolderName()'>test Connection</div>
                            <div onclick='throwAnError()'>throw an error</div>
                            <div onclick='showMoveFolderDialog()'>Move Folder</div>
                            <div onclick='showAddStepChildFolderDialog()'>Copy Folder</div>
                            <div onclick="showRenameFolderDialog()">Rename Folder</div>
                        </div>
                        <div class="inline dataArea">
                            <img height="31" class="dashboardFileListHeaderCloseButton"
                                 src='https://common.ogglefiles.com/img/close.png' onclick="$('#sqlSandboxSection').show();"/>
                            <div id="rightSideWorkarea">
                                right side workarea
                            </div>
                        </div>
                    </div>
                </div>


                    <div id='reportsSection' class='fullScreenSection displayHidden flexbox'>
                        <div id='reportsLeftColumn' class='dashboardContainerColumn'>
                            <div id='reportsLeftMenu' class='oggleVerticalMenu'></div>
                        </div>
                        <div id='reportsMiddleColumn' class='dashboardContainerColumn'>
                            <div class='workAreaContainer'>
                                <div id='reportsHeader' class='workAreaHeader'>
                                    <div class='workAreaHeaderArea'>
                                        <div id='reportsHeaderTitle' class='workAreaHeaderTitle'>Reports</div>
                                        <div class='reportsHeaderDetailRow'></div>
                                    </div>
                                    <div class='workAreaCloseButton'><img style='height:25px' src='https://common.ogglefiles.com/img/close.png' onclick='showDefaultWorkArea()'></div>
                                </div>
                                <div id='reportsContentArea' class='workAreaDisplayContainer'></div>
                                <div id='reportsFooter' class='workareaFooter'></div>
                            </div>
                        </div>
                    </div>

                    <div id="dataifyInfo" class="infoLine" onclick='$("#dataifyInfo").hide()'></div>
                </div>
            </div>
        <div class="rightColumn">
            <div id="dirTreeContainer" class="dirTreeArea"></div>
        </div>
    </div>

    <div id='dashboardDialogBox' class='floatingDialogContainer displayHidden'>
        <div class='dashboardDialogHeader'>
            <div \id='dashboardDialogBoxTitle' class='floatingDialogTitle'></div>
            <div class='dialogCloseButton'><img src='https://common.ogglefiles.com/img/close.png' onclick='dashboardDialogBoxClose("close button")'/></div>
        </div>
        <div id='dashboardDialogContents' class='floatingDialogContents'></div>
    </div>


    <footer></footer>

    <script>
        $(document).ready(function () {
            displayHeader("OggleDashboard");
            displayFooter("welcome");
            $('#dashboardFileListContainer').hide();

            performBuildDirTree();

            resizeDashboardPage();
            $(window).resize(function () {
                resizeDashboardPage();
            });
        });

        function launchPage() {            
            let folderId = Number($('#txtActiveFolderId').val());
            window.open("https://Ogglebooble.com/gallery.html?album=" + folderId);
        }

        function resizeDashboardPage() {
            $('#visableArea').css('min-height', $(window).height() - $('header').height());
            $('#visableArea').css('width', $(window).width());
            $('#dirTreeContainer').css('height', $('#visableArea').height());
            $('#dashboardFileList').css('height', $('#visableArea').height());
            // $('#sortToolImageArea').css("height", $('#visableArea').height());

            $('footer').css('width', $(window).width());
            //$('#hdrBtmRowSec3').html("$(window).height(): " + $(window).height() + " $('header').height(): " + $('header').height());
        }
    </script>
</body>
</html>